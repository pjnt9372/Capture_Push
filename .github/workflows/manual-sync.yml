name: manual-sync

# è§¦å‘å™¨ï¼šåªå…è®¸é€šè¿‡ GitHub ç•Œé¢æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ
on:
  workflow_dispatch:
    inputs:
      run_reason:
        description: 'æ‰§è¡ŒåŸå› /å¤‡æ³¨'
        required: false
        default: 'æ‰§è¡Œæ‰‹åŠ¨åŒæ­¥ä»»åŠ¡'

# å®šä¹‰ä¸€ä¸ª Job
jobs:
  manual-deploy:
    # ä½¿ç”¨æœ€æ–°çš„ Ubuntu ç¯å¢ƒ
    runs-on: ubuntu-latest
    # ä»»åŠ¡åç§°
    name: å°† developer_space æ¨é€åˆ°æ’ä»¶ä»“åº“

    steps:
      # ç¬¬ä¸€æ­¥ï¼šæ£€å‡ºæºä»“åº“çš„ä»£ç 
      - name: ğŸ›ï¸ è·å–æºä»£ç 
        uses: actions/checkout@v4

      # ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ peaceiris/actions-gh-pages è¿›è¡Œè·¨ä»“åº“æ¨é€
      - name: ğŸš€ æ¨é€è‡³ Capture_Push_Plugin
        uses: peaceiris/actions-gh-pages@v3
        with:
          # è®¤è¯ï¼šä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„ ACCESS_TOKEN Secret
          github_token: $
          
          # ç›®æ ‡ä»“åº“åœ°å€ï¼šä½¿ç”¨ HTTPS åè®® + Token è®¤è¯
          # æ ¼å¼ï¼šhttps://<TOKEN>@github.com/ç”¨æˆ·å/ä»“åº“å.git
          external_repository: https://${{ secrets.ACCESS_TOKEN }}@github.com/pjnt9372/Capture_Push_Plugin.git
          
          # è¦æ¨é€çš„æœ¬åœ°ç›®å½•
          publish_dir: ./developer_space
          
          # æ¨é€åˆ°ç›®æ ‡ä»“åº“çš„åˆ†æ”¯
          publish_branch: main
          
          # å¼ºåˆ¶æ¨é€ï¼Œè¦†ç›–å†å²ï¼ˆä¿è¯å†…å®¹ç»å¯¹ä¸€è‡´ï¼‰
          force_orphan: true
          
          # æäº¤ä¿¡æ¯ï¼šåŒ…å«æ‰‹åŠ¨è¾“å…¥çš„å¤‡æ³¨
          commit_message: $
